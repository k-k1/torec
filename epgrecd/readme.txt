◆N/E9PqspSk氏が作成したextrecd.plを元に、
MythTVの録画スケジュールに合わせて3分前にepg情報を取得し、
スケジュールを更新するデーモンプログラムです。

★recfriioやrecpt1を使用する事を前提としています。

使用している物(全てを把握していません):
設定されたMythTV, MythWeb等
Perl(=5.8?)

各ファイルの説明:

epgrecd.pl
  本体です。
  起動するとデーモンとして起動されます。
  mythtvの録画ディレクトリを操作するのでmythtvユーザで起動して下さい。
  recfriio, recpt1などもmythtvユーザで起動されます。udevの設定に気をつけて下さい。
  起動/停止用に/var/run/mythtv/epgrecd.pidにプロセスIDを出力します。
  SIGTERMで停止、SIGHUPで録画予定の再読込みが出来ます。
  ログはsyslogに吐かれます。
  ファイルの先頭に設定項目が大量にあるのでそれぞれの環境に合わせて変更して下さい。

extrecd
  epgrecd.pl用init.dファイルです。恐らくDebian専用です。
  /usr/local/lib/extrec/epgrecd.plに本体があることを前提に書かれています。
  各環境に合わせて変更して下さい。

注意点:
・MythTVのスケジュールは1時間毎にチェックされます。即時反映させる場合はSIGHUPを送って下さい。
・複数のMythTVバックエンドが連携して動作している場合を想定していません。
・現在メインで使用しているチューナと別にダミーのチューナを設定し、二つのチューナで同じ番組を録画しようとすると、
  片方の番組が重複チェックではじかれます。恐らく現在の環境に影響を与えない為にはVM等で別のLinuxを用意する必要があります。
  User Mode Linux等を使用して下さい。(注.メモリが足りない為、使用可能か確認していません)
・録画コマンドはまだあるていど不安定に見えます。注意して下さい。

ライセンス:
LGPLv2です。

その他:
このプログラムはAS-ISで提供されます。なにか問題が起こっても責任は持てません。

動作確認環境:
  Debian GNU/Linux sid
  Linux 2.6.27.19 SMP PREEMPT x86_64

tomy ◆CfWlfzSGyg
